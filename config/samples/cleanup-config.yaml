apiVersion: v1
kind: ConfigMap
metadata:
  name: vsphere-cleanup-config
  namespace: system
data:
  config.yaml: |
    vcenters:
      - server: 10.0.0.1
        secretRef: vcenter1-credentials
      - server: 1.2.3.4
        secretRef: vcenter2-credentials

    cleanup:
      intervals:
        folders: 1
        tags: 8
        cnsvolumes: 8
        resourcepools: 2
        storagepolicies: 12
        kubevols: 24

    safety:
      min_age_hours: 2
      grace_period_hours: 12
      kubevols_min_age_days: 21

    features:
      dry_run: false
      enable_folders: true
      enable_tags: true
      enable_cnsvolumes: true
      enable_resourcepools: true
      enable_storagepolicies: true
      enable_kubevols: true

    protection:
      zonal_tags:
        - us-east
        - us-west
        - us-central
      system_folders:
        - debug
        - template

    operations:
      max_deletions_per_run: 100
      max_deletion_rate: 0.25
      concurrent_vcenters: 3

    logging:
      level: info
      format: json
      enable_audit_log: true
